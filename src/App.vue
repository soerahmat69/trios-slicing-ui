<template>
  <OverleyCompo />

  <HeaderCompo />

  <main>
    <div class="pop-up">
      <div id="overley_left_popup">
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8 8C3.58172 8 -1.93129e-07 4.41828 0 -3.49691e-07L-3.49691e-07 8L8 8Z"
            fill="white"
          ></path>
        </svg>
      </div>
      <h2 class="t-primary">Discover us!</h2>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M7.41 8.29496L6 9.70496L12 15.705L18 9.70496L16.59 8.29496L12 12.875L7.41 8.29496Z"
          fill="#7C7F8D"
        ></path>
      </svg>
    </div>

    <div class="pop-up-contact">
      <div id="overley_left_popup-contact">
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8 0C8 4.41828 4.41828 8 0 8H8V0Z"
            fill="white"
          ></path>
        </svg>
      </div>
      <h2 class="t-grey">
        Give us a problem.
        <span class="t-primary"> We find the solution </span>
      </h2>
      <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512">
        <!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
        <path
          d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"
          fill="currentColor"
        ></path>
      </svg>
      <div class="peopple-img">
        <img src="./assets/images/674f0c34429e670b3566a0c7_sticky-contact-portret-2.png" alt="" />
        <img
          class="p-2"
          src="./assets/images/674f0c34429e670b3566a0c7_sticky-contact-portret-2.png"
          alt=""
        />
      </div>
    </div>
    <section id="hero">
      <div class="overlay_hero"></div>
      <h1 id="hero_text"><span>Trios</span>. Reliable solutions for 30 years</h1>
    </section>

    <section class="bg-secondary container story">
      <div class="space-xl"></div>
      <div class="">
        <article class="intro-text">
          <div class="text_dot"></div>
          <p class="t-white">
            For 30 years, our team has treated every project as if it were our own, with a great
            sense of responsibility. About the result, about your budget and your secrets. We
            realize what your company really needs and ensure that the solution stands like a stone
            <br />
            <br />
            We combine experience in various sectors and craftsmanship into customized solutions. In
            this, we go further than simply executing; we think along and always keep your interests
            in mind. That is where our strength lies. Trust in solutions that go beyond demand.
          </p>
        </article>
      </div>
      <div class="space-xl"></div>
    </section>

    <div class="swap">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1440 78"
        fill="white"
        preserveAspectRatio="xMidYMid meet"
        style="display: block; line-height: 0"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M407.949 0C401.35 0 396 5.34991 396 11.9494V32C396 38.6274 390.627 44 384 44H0V78H396H412H1440V0H407.949Z"
          fill="#ECF5FF"
        ></path>
      </svg>
    </div>

    <section class="section-mark container bg-primary">
      <div class="space-xl"></div>
      <div>
        <div class="mark-wrap-title">
          <article class="intro-text">
            <div class="text_dot"></div>
            <p class="t-dark">
              We zijn je productontwikkelaar, procesontwikkelaar en machinebouwer. We zijn het team
              dat naast je staat bij elke stap en helpt. Met prototypes, duurtesten, CE- en
              patentondersteuning, FEM berekeningen en projectmanagement.
            </p>
          </article>
        </div>

        <div class="mark-wrap">
          <div class="mark-card-text">
            <div class="mark-flex">
              <p>Proptotypes</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
              >
                <path
                  d="M19 13.5L13 13.5L13 19.5L11 19.5L11 13.5L5 13.5L5 11.5L11 11.5L11 5.5L13 5.5L13 11.5L19 11.5L19 13.5Z"
                  fill="#2B3467"
                ></path>
              </svg>
            </div>
            <p>
              We build prototypes and zero series in our workshop. Here we test whether the design
              does what it should do. High focus, speed and efficiency.
            </p>
          </div>
          <div class="cols-2 mark-image">
            <img
              src="./assets/images/674f19d0d40cd4619b25bbce_Trios-Brandshoot-Liike-2700px-0402913.jpg"
              alt=""
            />
          </div>
          <div class="mark-card-text">
            <div class="mark-flex">
              <p>FEM calculations</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
              >
                <path
                  d="M19 13.5L13 13.5L13 19.5L11 19.5L11 13.5L5 13.5L5 11.5L11 11.5L11 5.5L13 5.5L13 11.5L19 11.5L19 13.5Z"
                  fill="#2B3467"
                ></path>
              </svg>
            </div>
            <p>
              Build immediately? No. With FEM calculations, we foresee problems and see if we meet
              the conditions.
            </p>
          </div>
        </div>

        <div class="mark-wrap">
          <div class="mark-image">
            <img
              src="./assets/images/674f101f6504239e3308de24_Trios-Brandshoot-Liike-2700px-0402095.jpg"
              alt=""
            />
          </div>
          <div class="mark-card-text">
            <div class="mark-flex">
              <p>(Duration) tests</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
              >
                <path
                  d="M19 13.5L13 13.5L13 19.5L11 19.5L11 13.5L5 13.5L5 11.5L11 11.5L11 5.5L13 5.5L13 11.5L19 11.5L19 13.5Z"
                  fill="#2B3467"
                ></path>
              </svg>
            </div>
            <p>
              Prototypen, nulseries en onderdelen van machines controleren we zorgvuldig op
              maatvoering, continuïteit en slijtage.
            </p>
          </div>
          <div class="cols-2 mark-image">
            <img src="./assets/images/67592feec8d5860d47440b2a_Kern CNC klem.jpg" alt="" />
          </div>
        </div>

        <div class="mark-wrap">
          <div class="cols-2 w-small-hidden w-medium-display mark-image">
            <img
              src="./assets/images/674f19d030f97a84931c671c_Trios-Brandshoot-Liike-2700px-0401835.jpg"
              alt=""
            />
          </div>

          <div class="mark-card-text">
            <div class="mark-flex">
              <p>Project Management</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="25"
                viewBox="0 0 24 25"
                fill="none"
              >
                <path
                  d="M19 13.5L13 13.5L13 19.5L11 19.5L11 13.5L5 13.5L5 11.5L11 11.5L11 5.5L13 5.5L13 11.5L19 11.5L19 13.5Z"
                  fill="#2B3467"
                ></path>
              </svg>
            </div>
            <p>
              We like to work together intensively and aim for long-term relationships in every
              project. Good project management is part of that.
            </p>
          </div>

          <div class="mark-image">
            <img src="./assets/images/6737224a196dc6346f8ab027_Market Image-2.jpg" alt="" />
          </div>
        </div>
      </div>
    </section>

    <SectionTeam />

    <section class="galery bg-primary container">
      <div class="space-xl"></div>
      <div class="galery-wrap" ref="galleryWrap">
        <div id="quotes" class="item-galery t-white">
          <h3>
            Trios is strong in conceptual thinking; dividing a big problem into bite-sized problems
            and merging the sum of the small problems into a working whole.
            <br />
            <br />
            De oplossingen zijn verrassend en altijd goed doordacht. Ideeën en concepten worden
            intern besproken met meerdere disciplines voordat ze aan de klant worden gepresenteerd.
            <br />
            <br />
            Tijdens de ontwikkeling van transportoplossingen wordt uitgebreid gerekend en
            gesimuleerd. Dit proces geeft veel vertrouwen in de uiteindelijke resultaten.
          </h3>
        </div>
        <div class="item-galery">
          <img
            src="./assets/images/674f1021ce2fff6650f6b3ab_Trios-Brandshoot-Liike-2700px-0402377.jpg"
            alt=""
          />
        </div>
        <div class="item-galery-end"></div>
      </div>
    </section>

    <section class="bg-primary desc-section container">
      <div class="space-xl"></div>
      <div class="desc-grid">
        <div class="desc">
          <div>
            <h1 class="t-primary">Reliability at Trios: facts that speak</h1>
            <p class="t-grey">
              We focus on trust, innovation and craftsmanship. We'd love to tell you about that, but
              the facts speak for themselves.
            </p>
          </div>
          <div class="desc-data">
            <div class="desc-item">
              <h2 class="t-primary">30</h2>
              <p>Years of experience</p>
              <p class="t-grey">In precision engineering solution</p>
            </div>
            <div class="desc-item">
              <h2 class="t-primary">30</h2>
              <p class="t-dark">Years of experience</p>
              <p class="t-grey">In precision engineering solution</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="vacature-section bg-primary">
      <div class="space-xl"></div>

      <div class="vacature-grid bg-primary">
        <div class="vacature-item-grid">
          <div class="vacature-item">
            <div>
              <img
                class="w-medium-hidden"
                src="./assets/images/6751cac1e85c1178d515e4e5_Trios-Portretten-Liike-2700px-0402051.jpg"
                alt=""
              />
              <img
                class="w-small-hidden w-medium-display"
                src="./assets/images/674f05b080a2a1e4d9db5e64_Trios-Brandshoot-Liike-2700px-0401711.webp"
                alt=""
              />
            </div>
            <div id="vacation">
              <p class="t-grey">27 vacation days, and a well-arranged pension.</p>
            </div>
            <div>
              <img
                class="w-medium-hidden"
                src="./assets/images/6751cac1e85c1178d515e4e5_Trios-Portretten-Liike-2700px-0402051.jpg"
                alt=""
              />
              <img
                class="w-small-hidden w-medium-display"
                src="./assets/images/674f101e2f24ec777d237fd0_Trios-Brandshoot-Liike-2700px-0401453.jpg"
                alt=""
              />
            </div>

            <img
              class="cols-s-2-3"
              src="./assets/images/674f101f47629be28a7a68cd_Trios-Brandshoot-Liike-2700px-0401540.jpg"
              alt=""
            />
            <div id="coffee">
              <p class="t-grey">Daily coffee time at 10 a.m.</p>
            </div>
          </div>
        </div>

        <div class="vacature-info bg-primary">
          <h5 class="t-primary">
            Our people are our driving force. We value young talent and experienced professionals.
            We are happy to invest in that. Also working for a company where your passion for the
            profession is central and seen? We are always looking for more talent.
          </h5>
        </div>
      </div>

      <!-- Vacancies -->
      <div class="bg-primary container vacancies-detail">
        <div class="space-xl"></div>

        <h2 class="t-primary">Vacancies</h2>
        <div class="vacancies-detail-grid">
          <div class="vacancies-detail-list">
            <h3 class="t-primary">Toolmaker with CNC experience</h3>
            <p class="t-grey">
              Do you have an eye for detail, problem solving skills and, as a real professional, are
              you always looking for quality? This toolmaker/instrument maker vacancy is for you.
            </p>
            <ul>
              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">Neede</h4>
              </li>
              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">Full-Time</h4>
              </li>

              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">MBO</h4>
              </li>
            </ul>
          </div>
          <div class="vacancies-detail-list">
            <h3 class="t-primary">Office environment cleaner</h3>
            <p class="t-grey">
              Will you keep our pleasant working environment clean? Then you'll never work alone!
              This is the job for you.
            </p>
            <ul>
              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">Neede</h4>
              </li>
              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">18/24 hours a month</h4>
              </li>

              <li>
                <div class="text_dot-list"></div>
                <h4 class="t-primary">No training a required</h4>
              </li>
            </ul>
          </div>
        </div>
        <div class="space-xl"></div>
      </div>
    </section>
  </main>

  <FooterCompo />
</template>

<style src="./assets/styles/styles.sass"></style>

<script lang="ts">
import gsap from 'gsap'
// import { ref } from 'vue'
import { ScrollTrigger } from 'gsap/ScrollTrigger'
import FooterCompo from './components/Footer-compo.vue'
import HeaderCompo from './components/Header-compo.vue'
import OverleyCompo from './components/Overley.vue'
import SectionTeam from './components/Section-team.vue'

gsap.registerPlugin(ScrollTrigger)
export default {
  components: {
    FooterCompo,
    HeaderCompo,
    OverleyCompo,
    SectionTeam,
  },
  methods: {
    hero_text() {
      gsap.from('#hero_text', {
        duration: 1,
        opacity: 0,
        stagger: 0.05,
        y: 50,
        ease: 'power2.out',
      })
    },
    animateImages() {
      const imgs = document.querySelectorAll('img')
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              gsap.to(entry.target, {
                duration: 1,
                opacity: 1,
                scale: 1,
                ease: 'power2.out',
              })
            } else {
              gsap.set(entry.target, { opacity: 0, scale: 0.8 })
            }
          })
        },
        { threshold: 0.2 }, // Animasi dipicu saat 50% elemen terlihat
      )

      imgs.forEach((img) => observer.observe(img))
    },
    animatedDiscoverPopup() {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              gsap.to('.pop-up', {
                duration: 1,
                opacity: 1,
                y: 50, // Kembali ke posisi semula
                ease: 'power2.out',
              })
            } else {
              // Animasi slide up saat elemen keluar dari layar
              gsap.to('.pop-up', {
                duration: 1,
                opacity: 1,
                y: 0, // Geser ke atas
                ease: 'power2.out',
              })
            }
          })
        },
        { threshold: 0.1 }, // Threshold untuk memicu animasi
      )

      const target = document.querySelector('.section-mark')
      if (target) {
        observer.observe(target)
      }
    },

    animatedNavScroll() {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              gsap.to('#nav_trigger_down', {
                duration: 1,
                opacity: 1,
                y: -70, // Geser ke atas
                ease: 'power2.out',
              })
            } else {
              gsap.to('#nav_trigger_down', {
                duration: 1,
                opacity: 1,
                y: 0, // Kembali ke posisi semula
                ease: 'power2.out',
              })
            }
          })
        },
        { threshold: 0.1 }, // Threshold untuk memicu animasi
      )

      const target = document.getElementById('sticky_nav')
      if (target) {
        observer.observe(target)
      }
    },
    animatedScrollGalery() {
      // const body = document.getElementsByTagName('body')
      const timeline = gsap.timeline()
      timeline.to('.galery-wrap', { x: -2000 }).to('.item-galery-end', { x: 501 })
      ScrollTrigger.create({
        animation: timeline,
        trigger: '.galery-wrap',
        endTrigger: 'item-galery-end',
        start: () => 'center center',
        end: () => `+=${window.innerWidth * 3}`,
        scrub: 0.5,
        pin: true,
        // markers: false,
      })
    },
  },
  mounted() {
    this.hero_text()
    this.animateImages()
    this.animatedDiscoverPopup()
    this.animatedNavScroll()
    this.animatedScrollGalery()
  },
}
</script>
